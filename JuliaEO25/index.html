<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Tutorial · ROMS.jl</title><meta name="title" content="Tutorial · ROMS.jl"/><meta property="og:title" content="Tutorial · ROMS.jl"/><meta property="twitter:title" content="Tutorial · ROMS.jl"/><meta name="description" content="Documentation for ROMS.jl."/><meta property="og:description" content="Documentation for ROMS.jl."/><meta property="twitter:description" content="Documentation for ROMS.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>ROMS.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Tutorial</a><ul class="internal"><li><a class="tocitem" href="#Using-for-the-first-time-a-Linux-(or-UNIX-like)-environment?"><span>Using for the first time a Linux (or UNIX-like) environment?</span></a></li><li><a class="tocitem" href="#Registration"><span>Registration</span></a></li><li><a class="tocitem" href="#Required-software"><span>Required software</span></a></li><li><a class="tocitem" href="#Preconfigured-virtual-machine"><span>Preconfigured virtual machine</span></a></li><li><a class="tocitem" href="#Installation-on-Debian/Ubuntu/Linux-(or-UNIX-like-operating-systems)"><span>Installation on Debian/Ubuntu/Linux (or UNIX-like operating systems)</span></a></li><li><a class="tocitem" href="#Choise-of-area"><span>Choise of area</span></a></li><li><a class="tocitem" href="#ROMS-configuration"><span>ROMS configuration</span></a></li></ul></li><li><a class="tocitem" href="01_build_roms/">Compilation</a></li><li><a class="tocitem" href="02_prep_roms/">Preparation</a></li><li><a class="tocitem" href="03_run_roms/">Running ROMS</a></li><li><a class="tocitem" href="04_plots/">Plots</a></li><li><a class="tocitem" href="05_plots_makie/">Plots (Makie)</a></li><li><a class="tocitem" href="additional_info/">Additional information</a></li><li><a class="tocitem" href="reference/">Reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Tutorial</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Tutorial</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Alexander-Barth/ROMS.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Alexander-Barth/ROMS.jl/blob/master/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>This package allows to setup necessary files for the <a href="https://www.myroms.org/">ROMS ocean model</a>.</p><p>This tutorial is for students following the ULiège lecture OCEA0036-1 but might be useful for others as well.</p><h2 id="Using-for-the-first-time-a-Linux-(or-UNIX-like)-environment?"><a class="docs-heading-anchor" href="#Using-for-the-first-time-a-Linux-(or-UNIX-like)-environment?">Using for the first time a Linux (or UNIX-like) environment?</a><a id="Using-for-the-first-time-a-Linux-(or-UNIX-like)-environment?-1"></a><a class="docs-heading-anchor-permalink" href="#Using-for-the-first-time-a-Linux-(or-UNIX-like)-environment?" title="Permalink"></a></h2><p>If you are familiar with Linux and the command line you can skip to section.</p><ul><li><p>Essential shell commands:</p><ul><li><code>pwd</code>: print the name of the current working directory</li><li><code>ls</code>: list all files and directories in the current working directory</li><li><code>cd directory_name</code>: change directory; &quot;go inside&quot; the directory</li><li><code>mkdir directory_name</code>: create a directory</li><li><code>cp source destination</code>: copy a file</li><li><code>mv source destination</code>: move a file</li><li><code>rm file</code>: remove a file (permanently)</li><li><code>find directory_name -name &quot;*foo*&quot;</code>: find all files under <code>directory_name</code> (including sub-directories) whose name contains <code>foo</code>.</li><li><code>diff -u --color file1 file2</code>: compare two text files</li><li><code>gnome-text-editor filename &amp;</code>, <code>pluma filename &amp;</code> or <code>editor filename &amp;</code>: open a text editor to edit a file.</li></ul></li><li><p>Shell keyboard short cuts (also applicable to a julia session):</p><ul><li><code>up-arrow</code>: show previous command (similarly <code>down-arrow</code> show next command)</li><li><code>TAB</code>: complete command or file/directory name if it is unambiguous</li><li><code>TAB TAB</code>: show all possible commands or file/directory name if multiple possibilities exists</li><li><code>Control-R</code> and type <code>some_string</code>: Search for a previously executed command which includes <code>some_string</code>.</li><li><code>Control-C</code>: cancel the previous command (be careful to not to cancel your text editor session)</li><li><code>Control-D</code>: close a shell session</li></ul></li><li><p>Special directories:</p><ul><li><code>.</code>: current directory</li><li><code>..</code>: parent directory</li><li><code>~</code>: home directory</li></ul></li><li><p>Please pay attention to the difference between upper- and lowercase letters</p></li><li><p>Presence and absence of white space is also significant</p></li><li><p>Avoid using directories and file names with a space in them, otherwise you need to put the directory in quotes (single or double quotes) or use black-slash (<code>\\</code>) in front of the white space. For example, shell command <code>cd My Directory Name</code> does not work, use one of the following instead:</p></li></ul><pre><code class="language-bash hljs">cd &quot;My Directory Name&quot;
cd &#39;My Directory Name&#39;
cd My\ Directory\ Name</code></pre><ul><li>Check out the <a href="https://diyhacking.com/linux-commands-for-beginners/">basic shell commands</a> and <a href="https://ryanstutorials.net/linuxtutorial/">this tutorial</a></li></ul><h2 id="Registration"><a class="docs-heading-anchor" href="#Registration">Registration</a><a id="Registration-1"></a><a class="docs-heading-anchor-permalink" href="#Registration" title="Permalink"></a></h2><p>Please register at:</p><ul><li><a href="https://marine.copernicus.eu/services-portfolio/register-now/">CMEMS (Copernicus Marine Environment Monitoring Service)</a></li></ul><p>To generate new forcing fields, register at (optional):</p><ul><li><a href="https://apps.ecmwf.int/registration/">ECMWF (European Centre for Medium-Range Weather Forecasts)</a>. To access the operational forecast on the MARS service you will need a special permissions granted by your national weather service (in Europe). The default permission will let you access e.g. ERA5 dataset.</li></ul><h2 id="Required-software"><a class="docs-heading-anchor" href="#Required-software">Required software</a><a id="Required-software-1"></a><a class="docs-heading-anchor-permalink" href="#Required-software" title="Permalink"></a></h2><p>The tutorial can be run either:</p><ol><li>on your computer using a preconfigured virtual machine</li><li>on the machines of the ULiège computer room</li><li>directly on your computer (but all software has to be installed beforehand) if you are using Ubuntu/Debian. Other Linux OS will work too, but the installation instructions must be adapted. Mac OS and Windows (using e.g. Windows Subsystem for Linux) might work also; but if you are not using Linux, it is preferable to the the virtual machine.</li><li>on the GHER notebook server (<a href="https://notebook-gher.uliege.be/">https://notebook-gher.uliege.be/</a>) for ULiège students.</li></ol><h2 id="Preconfigured-virtual-machine"><a class="docs-heading-anchor" href="#Preconfigured-virtual-machine">Preconfigured virtual machine</a><a id="Preconfigured-virtual-machine-1"></a><a class="docs-heading-anchor-permalink" href="#Preconfigured-virtual-machine" title="Permalink"></a></h2><p>A preconfigured virtual machine is available <a href="https://data-assimilation.net/upload/OCEA0036/Ubuntu-24.04-MATE-Julia-ROMS.ova">here</a>. You also need:</p><ul><li>Virtual Box requires the <a href="https://learn.microsoft.com/en-US/cpp/windows/latest-supported-vc-redist?view=msvc-170">Microsoft Visual C++ Redistributable</a> which should be installed before (as of Virtual Box version 7.0.4).</li><li>Virtual Box can be installed from <a href="https://www.virtualbox.org/wiki/Downloads">here</a>.</li><li>The OVA file must be imported in Virtual Box as explained in the <a href="https://docs.oracle.com/cd/E26217_01/E26796/html/qs-import-vm.html">documentation</a>.</li></ul><p>The account <code>student</code> has the password <code>tritro</code>. In this virtual machine, all software is already pre-installed, but must be updated using this shell commands:</p><pre><code class="language-bash hljs">cd .julia/dev/ROMS
git pull</code></pre><p>Then open a julia session (typing the <code>julia</code> command), and update all packages with:</p><pre><code class="language-julia hljs">using Pkg
Pkg.update()</code></pre><p>Note, it is not necessary for this tutorial to update the whole operating system.</p><h2 id="Installation-on-Debian/Ubuntu/Linux-(or-UNIX-like-operating-systems)"><a class="docs-heading-anchor" href="#Installation-on-Debian/Ubuntu/Linux-(or-UNIX-like-operating-systems)">Installation on Debian/Ubuntu/Linux (or UNIX-like operating systems)</a><a id="Installation-on-Debian/Ubuntu/Linux-(or-UNIX-like-operating-systems)-1"></a><a class="docs-heading-anchor-permalink" href="#Installation-on-Debian/Ubuntu/Linux-(or-UNIX-like-operating-systems)" title="Permalink"></a></h2><p>If you do not use this virtual machine the following software need to be installed:</p><ul><li><a href="https://julialang.org/downloads/">Julia</a>. Under Linux, you can install Julia with the following shell commands:</li></ul><pre><code class="language-bash hljs">curl -fsSL https://install.julialang.org | sh</code></pre><p>During installation, you can confirm all default choices. More information is available <a href="https://julialang.org/downloads/platform/">here</a>.</p><p>Under Linux, you need to install also <code>python3-matplotlib</code> for PythonPlot. On Debian/Ubuntu, this packages can be installed by this command:</p><pre><code class="language-bash hljs">sudo apt install python3-matplotlib</code></pre><ul><li>Julia package, <code>PythonPlot</code>, <code>NCDatasets</code>, <code>ROMS</code> which can be installed by:</li></ul><pre><code class="language-julia hljs">using Pkg
Pkg.add(&quot;PythonPlot&quot;)
Pkg.add(&quot;NCDatasets&quot;)
Pkg.develop(url=&quot;https://github.com/Alexander-Barth/ROMS.jl&quot;)</code></pre><p>Other required software typically available from a package manager:</p><ul><li>A Fortran 90 compiler (e.g. gfortran)</li><li>GNU make</li><li>NetCDF (including headers files for development and the tools <code>ncdump</code>, <code>nf-config</code>)</li><li>perl</li><li>Python and pip</li><li>MPI (optional)</li><li>git (optional)</li></ul><p>Note that all libraries (NetCDF and MPI) must be compiled with the same Fortran compiler.</p><p>On Windows, various ways exist to install gfortran, GNU make and other dependencies:</p><ul><li>Windows Subsystem for Linux<ul><li><a href="https://msdn.microsoft.com/en-us/commandline/wsl/install_guide">Installation guide</a></li><li><a href="https://docs.microsoft.com/en-us/windows/wsl/faq">FAQ (in particular exchanging files)</a></li></ul></li><li><a href="https://www.cygwin.com/">Cygwin</a></li><li><a href="https://www.msys2.org/">MSYS2</a></li><li>Linux virtual machine using e.g. VirtualBox</li><li>...</li></ul><p>On MacOS X:</p><ul><li><a href="https://brew.sh/">Homebrew</a></li><li>...</li></ul><p>On Debian/Ubuntu, these packages can be installed by this command:</p><pre><code class="language-bash hljs">sudo apt install gfortran make perl netcdf-bin libnetcdff-dev libopenmpi-dev openmpi-bin git python3-pip python3-setuptools unzip</code></pre><ul><li>For ECMWF data, you need the package <code>ecmwf-api-client</code> (optional). Follow the <a href="https://confluence.ecmwf.int/display/WEBAPI/Access+ECMWF+Public+Datasets">installation instructions</a> (including the ECMWF key). For questions related to ECMWF data access please also consult <a href="https://www.ecmwf.int/en/forecasts/access-forecasts/ecmwf-web-api">this document</a>.</li><li>Note that the ECMWF key is different from your ECMWF password.</li></ul><h3 id="Install-or-update-the-ROMS.jl-julia-package"><a class="docs-heading-anchor" href="#Install-or-update-the-ROMS.jl-julia-package">Install or update the ROMS.jl julia package</a><a id="Install-or-update-the-ROMS.jl-julia-package-1"></a><a class="docs-heading-anchor-permalink" href="#Install-or-update-the-ROMS.jl-julia-package" title="Permalink"></a></h3><p>Install <code>ROMS.jl</code> by using the following command:</p><pre><code class="language-julia hljs">using Pkg
Pkg.develop(url=&quot;https://github.com/Alexander-Barth/ROMS.jl&quot;)</code></pre><p>Make sure to use the latest version by using this shell commands:</p><pre><code class="language-bash hljs">cd .julia/dev/ROMS
git pull</code></pre><h3 id="Check-your-environment"><a class="docs-heading-anchor" href="#Check-your-environment">Check your environment</a><a id="Check-your-environment-1"></a><a class="docs-heading-anchor-permalink" href="#Check-your-environment" title="Permalink"></a></h3><ul><li>Check julia version:</li></ul><pre><code class="language-bash hljs">julia --version</code></pre><ul><li>Check the Fortran Compiler</li></ul><pre><code class="language-bash hljs">gfortran --version</code></pre><ul><li>MPI</li></ul><pre><code class="language-bash hljs">mpif90 --version
mpirun --help</code></pre><ul><li>NetCDF</li></ul><pre><code class="language-bash hljs">nf-config --all</code></pre><p>These commands should return a basic usage info or the version number if they are correctly installed.</p><h2 id="Choise-of-area"><a class="docs-heading-anchor" href="#Choise-of-area">Choise of area</a><a id="Choise-of-area-1"></a><a class="docs-heading-anchor-permalink" href="#Choise-of-area" title="Permalink"></a></h2><p>Choose an area:</p><ul><li><p>What interesting processes are present in your studied area? (note: now we all use the Ligurian Sea)</p></li><li><p>Are there in situ measurements available for your area? Look for temperature and salinity within your areas (for any time frame)</p><ul><li>Check with <a href="https://www.nodc.noaa.gov/OC5/SELECT/dbsearch/dbsearch.html">World Ocean Database</a></li><li><a href="https://marine.copernicus.eu/">CMEMS in situ Thematic Assemble Centre (TAC)</a></li></ul></li><li><p>Visualize a couple of downloaded profiles:</p><ul><li>Hints: in Julia you can use the package <a href="https://github.com/Alexander-Barth/NCDatasets.jl"><code>NCDatasets</code></a></li><li>How would you distribute the vertical resolution in your model represent this profile?</li></ul></li><li><p>Check that your longitude/latitude/time range model of your nested model is within longitude/latitude/time range of the outer model providing the boundary conditions</p></li><li><p>Choose the domain such to avoid unnecessary open ocean boundary conditions</p></li></ul><h2 id="ROMS-configuration"><a class="docs-heading-anchor" href="#ROMS-configuration">ROMS configuration</a><a id="ROMS-configuration-1"></a><a class="docs-heading-anchor-permalink" href="#ROMS-configuration" title="Permalink"></a></h2><ul><li><a href="01_build_roms.ipynb">01_build_roms.ipynb</a>: compilation of the source code</li><li><a href="02_prep_roms.ipynb">02_prep_roms.ipynb</a>: creating input files</li><li><a href="03_run_roms.ipynb">03_run_roms.ipynb</a>: running the ROMS model</li><li><a href="04_plots.ipynb">04_plots.ipynb</a>: plotting the results</li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="01_build_roms/">Compilation »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a>, <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a></p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Tuesday 10 December 2024 22:14">Tuesday 10 December 2024</span>. Using Julia version 1.11.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
